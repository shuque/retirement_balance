# retirement_balance
Retirement balance calculator

This program was generated by Cursor AI in response to my prompts (based
on other retirement calculator scripts I've written for myself in the
past).

## Usage

```
usage: retirement_balance.py [-h] --current-age CURRENT_AGE --final-age
                             FINAL_AGE --current-balance CURRENT_BALANCE
                             --yearly-contribution YEARLY_CONTRIBUTION
                             --yearly-return YEARLY_RETURN --retirement-age
                             RETIREMENT_AGE --withdrawal-rate WITHDRAWAL_RATE
                             --retirement-return RETIREMENT_RETURN --tax-rate
                             TAX_RATE --withdrawal-increase
                             WITHDRAWAL_INCREASE
                             [--current-after-tax-balance CURRENT_AFTER_TAX_BALANCE]
                             [--yearly-contribution-after-tax YEARLY_CONTRIBUTION_AFTER_TAX]

Calculate retirement balance projections

optional arguments:
  -h, --help            show this help message and exit
  --current-age CURRENT_AGE
                        Current age
  --final-age FINAL_AGE
                        Target final age for projections
  --current-balance CURRENT_BALANCE
                        Current total retirement account balance (pre-tax + after-tax)
  --yearly-contribution YEARLY_CONTRIBUTION
                        Amount contributed per year (pre-tax)
  --yearly-return YEARLY_RETURN
                        Expected yearly return rate during accumulation as a
                        percentage (e.g., 7 for 7%)
  --retirement-age RETIREMENT_AGE
                        Age at which to start withdrawals
  --withdrawal-rate WITHDRAWAL_RATE
                        Annual withdrawal rate as a percentage (e.g., 4 for
                        4%)
  --retirement-return RETIREMENT_RETURN
                        Expected yearly return rate during retirement as a
                        percentage (e.g., 4 for 4%)
  --tax-rate TAX_RATE   Tax rate on withdrawals as a percentage (e.g., 22 for
                        22%)
  --withdrawal-increase WITHDRAWAL_INCREASE
                        Annual increase in withdrawal amount as a percentage
                        (e.g., 2 for 2%)
  --current-after-tax-balance CURRENT_AFTER_TAX_BALANCE
                        Current Roth (after-tax) account balance (default: 0)
  --yearly-contribution-after-tax YEARLY_CONTRIBUTION_AFTER_TAX
                        Amount contributed per year to Roth (after-tax)
                        accounts (default: 0)
  --verbose             Show detailed breakdown of pre-tax and after-tax balances

```

## Roth (After-Tax) Contributions

The calculator supports tracking Roth IRA and Roth 401(k) contributions separately from traditional pre-tax contributions. This provides more accurate retirement projections since:

- **During accumulation**: Both pre-tax and after-tax contributions grow at the same rate
- **During retirement**: Withdrawals are taken proportionally from both accounts
- **Tax calculation**: Only the pre-tax portion of withdrawals is taxed

This results in lower taxes during retirement when you have a significant Roth balance.

### Example with Roth Contributions

If you have $1,225,000 total balance with $300,000 in Roth accounts:

```bash
./retirement_balance.py \
    --current-age 56 \
    --final-age 70 \
    --current-balance 1225000 \
    --current-after-tax-balance 300000 \
    --yearly-contribution 30000 \
    --yearly-contribution-after-tax 7000 \
    --yearly-return 7.0 \
    --retirement-age 67 \
    --withdrawal-rate 4.5 \
    --withdrawal-increase 2.0 \
    --retirement-return 4.0 \
    --tax-rate 25.0
```

This shows approximately 24.5% of your balance is in Roth accounts, which reduces your tax burden during retirement. In the first year of retirement, this could save over $8,400 in taxes compared to having all pre-tax contributions.

## Verbose Output

Use the `--verbose` flag to see a detailed breakdown of pre-tax and after-tax balances for each year. This is particularly useful when tracking Roth contributions to see how each account grows and is depleted over time.

```bash
./retirement_balance.py \
    --current-age 56 \
    --final-age 70 \
    --current-balance 1225000 \
    --current-after-tax-balance 300000 \
    --yearly-contribution 30000 \
    --yearly-contribution-after-tax 7000 \
    --yearly-return 7.0 \
    --retirement-age 67 \
    --withdrawal-rate 4.5 \
    --withdrawal-increase 2.0 \
    --retirement-return 4.0 \
    --tax-rate 25.0 \
    --verbose
```

Output shows Pre-Tax and After-Tax columns:
```
 Age            Balance            Pre-Tax          After-Tax          Yearly         Monthly       After Tax
--------------------------------------------------------------------------------------------------------------
  66    $  2,956,753.59    $  2,263,122.99    $    693,630.60    $      0.00    $      0.00    $      0.00
  67    $  3,203,316.34    $  2,453,641.59    $    749,674.74    $144,149.24    $ 12,012.44    $  9,712.15
  68    $  3,181,533.79    $  2,436,956.83    $    744,576.96    $147,032.22    $ 12,252.68    $  9,906.39
```

This clearly shows that at age 67, 76.6% of the balance ($2,453,641.59) is pre-tax and 23.4% ($749,674.74) is after-tax (Roth), resulting in proportional tax-aware withdrawals.

## Sample Output

```
$ ./retirement_balance.py --current-age 30 --final-age 95 --current-balance 100000 --yearly-contribution 20000 --yearly-return 7 --retirement-age 65 --withdrawal-rate 4 --retirement-return 4 --tax-rate 22 --withdrawal-increase

Retirement Balance Projections:
Current Age: 30
Final Age: 95
Current Balance: $100,000.00
Yearly Contribution: $20,000.00
Yearly Return: 7.0%
Retirement Age: 65
Withdrawal Rate: 4.0%
Retirement Return: 4.0%
Tax Rate: 22.0%
Withdrawal Increase: 2.0%

 Age            Balance          Yearly         Monthly       After Tax
----------------------------------------------------------------------
  30    $    100,000.00    $      0.00    $      0.00    $      0.00
  31    $    128,400.00    $      0.00    $      0.00    $      0.00
  32    $    158,788.00    $      0.00    $      0.00    $      0.00
  33    $    191,303.16    $      0.00    $      0.00    $      0.00
  34    $    226,094.38    $      0.00    $      0.00    $      0.00
  35    $    263,320.99    $      0.00    $      0.00    $      0.00
  36    $    303,153.46    $      0.00    $      0.00    $      0.00
  37    $    345,774.20    $      0.00    $      0.00    $      0.00
  38    $    391,378.39    $      0.00    $      0.00    $      0.00
  39    $    440,174.88    $      0.00    $      0.00    $      0.00
  40    $    492,387.12    $      0.00    $      0.00    $      0.00
  41    $    548,254.22    $      0.00    $      0.00    $      0.00
  42    $    608,032.02    $      0.00    $      0.00    $      0.00
  43    $    671,994.26    $      0.00    $      0.00    $      0.00
  44    $    740,433.86    $      0.00    $      0.00    $      0.00
  45    $    813,664.23    $      0.00    $      0.00    $      0.00
  46    $    892,020.72    $      0.00    $      0.00    $      0.00
  47    $    975,862.17    $      0.00    $      0.00    $      0.00
  48    $  1,065,572.52    $      0.00    $      0.00    $      0.00
  49    $  1,161,562.60    $      0.00    $      0.00    $      0.00
  50    $  1,264,271.98    $      0.00    $      0.00    $      0.00
  51    $  1,374,171.02    $      0.00    $      0.00    $      0.00
  52    $  1,491,762.99    $      0.00    $      0.00    $      0.00
  53    $  1,617,586.40    $      0.00    $      0.00    $      0.00
  54    $  1,752,217.45    $      0.00    $      0.00    $      0.00
  55    $  1,896,272.67    $      0.00    $      0.00    $      0.00
  56    $  2,050,411.76    $      0.00    $      0.00    $      0.00
  57    $  2,215,340.58    $      0.00    $      0.00    $      0.00
  58    $  2,391,814.42    $      0.00    $      0.00    $      0.00
  59    $  2,580,641.43    $      0.00    $      0.00    $      0.00
  60    $  2,782,686.33    $      0.00    $      0.00    $      0.00
  61    $  2,998,874.37    $      0.00    $      0.00    $      0.00
  62    $  3,230,195.58    $      0.00    $      0.00    $      0.00
  63    $  3,477,709.27    $      0.00    $      0.00    $      0.00
  64    $  3,742,548.92    $      0.00    $      0.00    $      0.00
  65    $  3,864,890.25    $161,037.09    $ 13,419.76    $ 10,467.41
  66    $  3,855,228.03    $164,257.84    $ 13,688.15    $ 10,676.76
  67    $  3,841,894.15    $167,542.99    $ 13,961.92    $ 10,890.29
  68    $  3,824,676.07    $170,893.85    $ 14,241.15    $ 11,108.10
  69    $  3,803,351.38    $174,311.73    $ 14,525.98    $ 11,330.26
  70    $  3,777,687.47    $177,797.96    $ 14,816.50    $ 11,556.87
  71    $  3,747,441.05    $181,353.92    $ 15,112.83    $ 11,788.01
  72    $  3,712,357.69    $184,981.00    $ 15,415.08    $ 12,023.77
  73    $  3,672,171.38    $188,680.62    $ 15,723.39    $ 12,264.24
  74    $  3,626,604.00    $192,454.23    $ 16,037.85    $ 12,509.53
  75    $  3,575,364.84    $196,303.32    $ 16,358.61    $ 12,759.72
  76    $  3,518,150.05    $200,229.39    $ 16,685.78    $ 13,014.91
  77    $  3,454,642.07    $204,233.97    $ 17,019.50    $ 13,275.21
  78    $  3,384,509.11    $208,318.65    $ 17,359.89    $ 13,540.71
  79    $  3,307,404.44    $212,485.03    $ 17,707.09    $ 13,811.53
  80    $  3,222,965.90    $216,734.73    $ 18,061.23    $ 14,087.76
  81    $  3,130,815.11    $221,069.42    $ 18,422.45    $ 14,369.51
  82    $  3,030,556.91    $225,490.81    $ 18,790.90    $ 14,656.90
  83    $  2,921,778.56    $230,000.62    $ 19,166.72    $ 14,950.04
  84    $  2,804,049.06    $234,600.64    $ 19,550.05    $ 15,249.04
  85    $  2,676,918.38    $239,292.65    $ 19,941.05    $ 15,554.02
  86    $  2,539,916.61    $244,078.50    $ 20,339.88    $ 15,865.10
  87    $  2,392,553.20    $248,960.07    $ 20,746.67    $ 16,182.40
  88    $  2,234,316.05    $253,939.27    $ 21,161.61    $ 16,506.05
  89    $  2,064,670.63    $259,018.06    $ 21,584.84    $ 16,836.17
  90    $  1,883,059.04    $264,198.42    $ 22,016.54    $ 17,172.90
  91    $  1,688,899.01    $269,482.39    $ 22,456.87    $ 17,516.36
  92    $  1,481,582.93    $274,872.04    $ 22,906.00    $ 17,866.68
  93    $  1,260,476.77    $280,369.48    $ 23,364.12    $ 18,224.02
  94    $  1,024,918.97    $285,976.87    $ 23,831.41    $ 18,588.50
  95    $    774,219.33    $291,696.41    $ 24,308.03    $ 18,960.27

```

### Sample Output with Roth Contributions

When including Roth (after-tax) contributions, the output shows the breakdown:

```
$ ./retirement_balance.py --current-age 56 --final-age 70 --current-balance 1225000 --current-after-tax-balance 300000 --yearly-contribution 30000 --yearly-contribution-after-tax 7000 --yearly-return 7.0 --retirement-age 67 --withdrawal-rate 4.5 --withdrawal-increase 2.0 --retirement-return 4.0 --tax-rate 25.0

Retirement Balance Projections:
Current Age: 56
Final Age: 70
Current Balance: $1,225,000.00
  Pre-tax: $925,000.00
  After-tax (Roth): $300,000.00
Yearly Contribution: $30,000.00
  Pre-tax: $30,000.00
  After-tax (Roth): $7,000.00
Yearly Return: 7.0%
Retirement Age: 67
Withdrawal Rate: 4.5%
Retirement Return: 4.0%
Tax Rate: 25.0%
Withdrawal Increase: 2.0%

 Age            Balance          Yearly         Monthly       After Tax
----------------------------------------------------------------------
  56    $  1,225,000.00    $      0.00    $      0.00    $      0.00
  57    $  1,350,340.00    $      0.00    $      0.00    $      0.00
  58    $  1,484,453.80    $      0.00    $      0.00    $      0.00
  59    $  1,627,955.57    $      0.00    $      0.00    $      0.00
  60    $  1,781,502.46    $      0.00    $      0.00    $      0.00
  61    $  1,945,797.63    $      0.00    $      0.00    $      0.00
  62    $  2,121,593.46    $      0.00    $      0.00    $      0.00
  63    $  2,309,695.00    $      0.00    $      0.00    $      0.00
  64    $  2,510,963.65    $      0.00    $      0.00    $      0.00
  65    $  2,726,321.11    $      0.00    $      0.00    $      0.00
  66    $  2,956,753.59    $      0.00    $      0.00    $      0.00
  67    $  3,203,316.34    $144,149.24    $ 12,012.44    $  9,712.15
  68    $  3,181,533.79    $147,032.22    $ 12,252.68    $  9,906.39
  69    $  3,155,881.63    $149,972.86    $ 12,497.74    $ 10,104.52
  70    $  3,126,145.12    $152,972.32    $ 12,747.69    $ 10,306.61

```

Note: At age 67, the after-tax monthly income is $9,712.15 compared to $9,009.33 without Roth contributions (same total balance and withdrawal amount). This is a savings of $702.82/month or $8,434/year due to the tax-free Roth withdrawals.

